---
title: "2018 IOI 멘토링 - 2"
date: "2018-06-03"
---

#### Overall

IOI 2011 Day 1을 봤다. 적당한 난이도였다고 생각한다. 창고 < 정원 < 경주 순으로 어렵게 세팅된 것 같았다.

꽤 오래된 문제라서 많이 어렵게 느껴지지는 않았지만, 그래서인지 (아니면 그냥 내가 그런건지) 집중도가 많이 떨어졌다. 쌀 창고를 20분만에 100맞고 나서, 경주는 전에 풀어봤던 문제니 천천히 해도 될거고, 열대 식물원 문제를 읽어 보니 '흠... 할만해 보인다' 싶은 느낌이라, 상당히 풀어져서 봤던 것 같다.

문제점 2가지:

1) 풀어봤던 문제가 있었고, 아주 쉬운 문제가 하나 있어서 '진짜' 시험처럼 느껴지지가 않았다. 집에서 혼자 하는 거라 긴장감도 없었고, 최대한 컴퓨터에서 떨어지라는 걸 의식하면서 보니까, 오히려 집중하는 게 잘 안됐던 것 같다. 전략도 '아뭐어때'식으로 풀었고, 막바지에 정원 문제를 내려고 했던 30분정도만 긴장하고, 나머지 시간은 헤메면서 생각하는 데 소비했다.

2) 긁을 생각을 안했다. 1)처럼 진지하게 (maximum effort!) 임하지 않아서 그런 것도 있지만, 쌀 창고 문제를 69점 -> (2분) -> 100점 으로 풀자, 다른 문제도 한번에 풀려고 생각했던 것 같다. 듣기에 진짜 쉽게 얻을 수 있는 섭테가 있었다는데, 섭테를 마음에 두고 생각하지를 않아서 인지하지 못하고 있었던 것 같다.

점수는 0 + 0 + 100 = 100 (...)

* * *

##### 열대 식물원 (garden)

가장 시간을 많이 쓴, 아니 사실 제대로 다룬 문제가 이것밖에 없다.

문제를 보고 '해볼 만 하다' 싶었는데, 결국 집중력 없이 풀고, AFK도 지키지 못했고, 긁지도 않고 0점으로 끝났다.

생각의 흐름은 다음과 같다.

그래프가 주어지면, 의미 있는 간선들은 많이 없다. 실제로는 한 정점에서 향할 수 있는 다른 정점의 후보가 1~2개이기 때문에, 전처리를 미리 하고 들어가야 한다.

웬만하면 그래프를 편한 모양으로 만들고 싶다. 각 점에서 다음 정점이 하나로 정해지면 상당히 편하게 처리할 수 있는데, 그것을 염두에 두고 진행했다.

많은 경우에 간선이 겹치치 않지만, 운이 나빠서 간선 u-v가 u에게도, v에게도 가장 '아름다운' 간선이였다고 하자. 그러면 u로 들어온 간선들은 모두 v의 2번째 아름다운 간선으로 redirect하고, v에 대해서도 비슷하게 하면, 일단 각 점에서 하나로 정해질 것 같다. 근데 뭔가 순서가 꼬이고, 간선의 길이가 1보다 커지게 되면 귀찮은 일이 많이 생긴다. 여기서 다시 돌아섰다.

정점 v에서 가장 '아름다운' 간선 2개를 구하고, 이 간선이 각각 x, y로 향한다고 하자. 만약 x에서 v로 들어왔다면, 그 다음에는 v에서 y로 가야 한다. 그 외에는 모두 x로 향한다. 근데 이런 처리를 이후에 하기 귀찮으니, 정점을 2개 만들어서 x로 향하는 경우와 y로 향하는 경우를 분리할 수 있다. 즉, v로 들어온 경우는 항상 x로 향하고, v+n으로 들어온 경우에는 항상 y로 향하는 식이다. 이렇게 하면 functional graph가 되서, path->cycle 형태로 그래프가 편하게 바뀐다.

functional graph에서는 문제가 쉬워진다. P가 속한 사이클이 있으면 찾고, 없으면 넘어간다. 그리고 모든 정점에서 DFS를 해서, 사이클 혹은 P에 닿을 수 있는 최단 거리를 계산한다. 그리고 쿼리가 들어오면, 각 거리에 해당하는 정점의 수를 알고 있을 테니, 그를 기반으로 K거리만에 P에 닿을 수 있는 정점들의 수를 계산할 수 있다. 물론, 시작점이 정해지면 규칙상 K길이의 경로는 하나로 정해질 테니, 시작점의 수만 구하면 된다는 것은 당연하다.

거리 d만에 P에 닿을 수 있는 점들의 수를 cnt\[d\]라고 하고 P가 속한 사이클의 크기를 cycsz라고 하자. (없으면 따로 처리한다.) 그러면 쿼리 K가 들어왔을 때, 전처리를 적당히 해 주면 빠르게 (O(1))정도로 답할 수 있을 것 **같았다.** 대충 S\[i\] = cnt\[i\] + cnt\[i-cycsz\] + ... 로 전치리하면 될 듯 했는데, 어자피 제한이 O(NQ)까지 돼서 딱히 상관이 없었던 것 같다. (이 생각도 제한과 섭테를 잘 안읽어서 하게 된 것이다)

생각하지 못한 점: 정점을 2개로 쪼개면 P가 두개가 될 수 있다. P와 P+N이 있는데, 어떤 것으로 어떻게 세야 하나? 를 마지막 30분정도에 떠오르게 되었다. 아직 잘 모르겠다.

지금 섭테에 대해서 생각해 봤는데, 49점은 그냥 NK개 점을 만들고, N번 DFS해서 구하면 O(NK+MK)정도만에 될 것 같다. 코딩도 많이 복잡하지는 않았을 것 같은데, 긁을 걸 그랬다.

##### 경주 (race)

유명한 문제고, Centroid Decomposition 연습문제로 많이 푸는 문제인 것 같다.

그래서 전에 풀었었는데, 이번 셋에 이 문제가 있길래, 이 기회에 한번 제대로 절차를 밟고 생각해보고, 내 코드를 짜봐야 겠다는 생각이었지만, 1번에 막혀서 건드리지도 않았다. 긁을 생각이 있었다면 (지금 읽어보니) 섭테 3번까지 (43점)은 얻었겠다. 왜 안긁었을까. (지금 읽고 약간 짜증나는 부분)

 

##### 쌀 창고 (ricehub)

상당히 빠르게 풀었다. 절대값 최소화는 흔한 주제이니 바로 떠올랐고, 문제에서 요구하는 것이 예상과 약간 달랐지만 크게 돌아가지 않고 풀 수 있었다.

일단 연속한 구간의 논을 수확할거라는 것은 당연하다. 그리고 구간을 주었을 때, 그 구간에서의 cost를 계산하는 것은 부분합을 전처리하면 O(1)만에 가능하다.

그러면 구간을 어떻게 잡느냐가 관건인데, 일단 모든 구간을 해보는 코드를 내서 69점을 확보하고, 가격이 B이하인 최대 원소 구간을 잡는 것이 목표이니, inchworm 기법을 써서 O(N)만에 계산할 수 있다. 이는 왼쪽 끝점이 증가하면 오른쪽 끝점도 증가한다는 성질로 인해 사용가능하다.

문제 3개를 (사실 2개)를 훑고, 이 문제를 잡기로 판단하고, peripheral들을 다운받고 세팅하고 코딩하고 100점맞는 데까지 딱 20분이 걸렸다. 생각보다 점수가 쉽게 나왔고 (코딩실수를 잡으려는 마음에서 69점 코드를 낸 것인데..) 스탠다드하고 코딩도 복잡하지 않은 문제라서 어렵지 않았던 것 같다.

* * *

##### 생각들

Day 1 100점이면 기껏해야 동메달이다. 무려 2011년, 7년 전 시험인데도 동메달이다. 긁을 점수를 다 긁었으면 1시간 정도 투자하고 192점인데, 그래도 은-동 사이다. 쉬운 셋이었던 것은 확실한데, 진지하게 임하지 않아서 지금와서 생각해 보니 약간 짜증나는 부분이 있다.

오늘 앳코더를 보고 힐링하는걸로... 이건 좀 집중해서 봐야겠다.

웬만하면 가든을 빨리 제대로 짠다음에 확인해보고 싶은데, 답을 볼지 말지 모르겠다. 일단 내 풀이를 정리한 다음에, 답이 없다 싶으면 봐야겠다.

모의고사를 치는 것이 나에게 효용이 좋은지 잘 모르겠다. 세팅을 (physical한) 제대로 해놓고 봐야 뭔가 집중할 것 같은데, 그게 집에서는 잘 안된다. 차라리 학교에서 할까.

사실 숙제를 받고 푸는 것은 어떨지 잘 모르겠다. 숙제를 잔뜩 받고 나면 부담스럽고 텐션이 떨어져서 열심히 안 풀 것 같은데, 어느 정도의 강제력이나 푸쉬가 필요하다.

AFK 연습이 잘 안되는 것 같다. 코드를 짜다가 막혀야 맹점이 떠오르고, 종이에서만 생각하면 1시간을 집중해서 생각하기 어렵다. 연습이 필요하다. 문제를 머리에 담고 일상적으로 돌아다니면서 천천히 생각하면 좋지 않을까 싶다만, 핵심적인 아이디어만 생각하고 예에에ㅔㅇ하면서 코딩에 들어가는 것은 막기 힘들다. 풀이를 끝까지 완성하고 코딩할 수 있으려면 어떤 방안이 좋을 지 잘 모르겠다.
